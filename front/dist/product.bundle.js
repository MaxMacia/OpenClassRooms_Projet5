(()=>{var e=document.location.search,t=new URLSearchParams(e).get("id");loadConfig().then((function(e){config=e,fetch(config.host+"/api/products/"+t).then((function(e){return e.json()})).then((function(e){var t=new Product(e);document.querySelector(".item__img").innerHTML='<img src="'.concat(t.imageUrl,'" alt="').concat(t.altTxt,'">'),document.getElementById("title").innerHTML="".concat(t.name),document.getElementById("price").innerHTML="".concat(t.price),document.getElementById("description").innerHTML="".concat(t.description);for(var n=0;n<t.colors.length;n++)document.getElementById("colors").innerHTML+='<option value="'.concat(t.colors[n],'">').concat(t.colors[n],"</option>");document.getElementById("quantity").addEventListener("change",(function(e){document.getElementById("quantity").setAttribute("data-quantity","".concat(e.currentTarget.value))})),document.getElementById("colors").addEventListener("change",(function(e){document.getElementById("colors").setAttribute("data-color","".concat(e.currentTarget.value))}));var o=document.createElement("div");document.querySelector(".item__content").appendChild(o),document.getElementById("addToCart").addEventListener("click",(function(){if(null==document.getElementById("quantity").dataset.quantity||null==document.getElementById("colors").dataset.color)o.innerHTML="<h3>Veuillez s'il vous plaît renseigner une couleur et une quantité</h3>";else{var e={id:t._id,quantity:Number(document.getElementById("quantity").dataset.quantity),color:document.getElementById("colors").dataset.color};addToCart(e),o.innerHTML="<h3>Votre produit a été ajouté au panier</h3>"}}))})).catch((function(e){console.dir(e),document.querySelector(".item__content").innerHTML="<h3>Nous n'avons pas réussi à afficher le produit demandé, veuillez nous excuser pour le désagrément.</h3>"}))})).catch((function(e){console.dir(e),document.querySelector(".item__content").innerHTML="<h3>Nous n'avons pas réussi à afficher le produit demandé, veuillez nous excuser pour le désagrément.</h3>"}))})();